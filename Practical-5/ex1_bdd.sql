-- MySQL Script generated by MySQL Workbench
-- Wed May  3 11:52:13 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering
 -----------------------------------------------------

-- -----------------------------------------------------
-- Table `mydb`.`Enseignant`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Enseignant` ;

CREATE TABLE IF NOT EXISTS `Enseignant` (
  `idEnseignant` INT NOT NULL,
  `NomEns` VARCHAR(45) NULL,
  `PrenomEns` VARCHAR(45) NULL,
  PRIMARY KEY (`idEnseignant`))
;

-- -----------------------------------------------------
-- Table `mydb`.`Parcours`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Parcours` ;

CREATE TABLE IF NOT EXISTS `Parcours` (
  `idParcours` INT NOT NULL,
  `NomParcours` VARCHAR(45) NULL,
  PRIMARY KEY (`idParcours`))
;

-- -----------------------------------------------------
-- Table `mydb`.`Etudiant`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Etudiant` ;

CREATE TABLE IF NOT EXISTS `Etudiant` (
  `idEtudiant` INT NOT NULL,
  `NomEtu` VARCHAR(45) NULL,
  `PrenomEtu` VARCHAR(45) NULL,
  `Parcours_idParcours` INT NOT NULL,
  PRIMARY KEY (`idEtudiant`))
;


-- -----------------------------------------------------
-- Table `mydb`.`Salle`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Salle` ;

CREATE TABLE IF NOT EXISTS `Salle` (
  `idSalle` INT NOT NULL,
  `TypeSalle` VARCHAR(45) NULL,
  `Capacite` VARCHAR(45) NULL,
  PRIMARY KEY (`idSalle`))
;

-- -----------------------------------------------------
-- Table `mydb`.`Module`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Module` ;

CREATE TABLE IF NOT EXISTS `Module` (
  `idModule` INT NOT NULL,
  `NomModule` VARCHAR(45) NULL,
  PRIMARY KEY (`idModule`))
;


-- -----------------------------------------------------
-- Table `mydb`.`Creneau`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Creneau` ;

CREATE TABLE IF NOT EXISTS `Creneau` (
  `idCreneau` INT NOT NULL,
  `HeureDebut` VARCHAR(45) NULL,
  `HeureFin` VARCHAR(45) NULL,
  `Jour` VARCHAR(45),
  PRIMARY KEY (`idCreneau`))
;


-- -----------------------------------------------------
-- Table `mydb`.`Cours`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Cours` ;

CREATE TABLE IF NOT EXISTS `Cours` (
  `idCours` INT NOT NULL,
  `Enseignant_idEnseignant` INT NOT NULL,
  `Module_idModule` INT NOT NULL,
  `Salle_idSalle` INT NOT NULL,
  `Creneau_idCreneau` INT NOT NULL,
  PRIMARY KEY (`idCours`, `Salle_idSalle`, `Creneau_idCreneau`))
;


-- -----------------------------------------------------
-- Table `mydb`.`Etudiant_has_Module`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Etudiant_has_Module` ;

CREATE TABLE IF NOT EXISTS `Etudiant_has_Module` (
  `Etudiant_idEtudiant` INT NOT NULL,
  `Module_idModule` INT NOT NULL,
  PRIMARY KEY (`Etudiant_idEtudiant`, `Module_idModule`))
;

-- -----------------------------------------------------
-- Table `mydb`.`Salle_has_Creneau`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Salle_has_Creneau` ;

CREATE TABLE IF NOT EXISTS `Salle_has_Creneau` (
  `Salle_idSalle` INT NOT NULL,
  `Creneau_idCreneau` INT NOT NULL,
  `StatutSalle` VARCHAR(45) NULL,
  PRIMARY KEY (`Salle_idSalle`, `Creneau_idCreneau`))
;

-- -----------------------------------------------------
-- Insertion de donn√©es dans les tables
-- -----------------------------------------------------

INSERT INTO Enseignant VALUES (11, "Jean", "Paul");
INSERT INTO Enseignant VALUES (12, "Marie", "Helene");
INSERT INTO Enseignant VALUES (13, "Pierre", "Jaque");

INSERT INTO Parcours VALUES (21, "parcoursA");
INSERT INTO Parcours VALUES (22, "parcoursB");
INSERT INTO Parcours VALUES (23, "parcoursC");

INSERT INTO Etudiant VALUES (31, "random", "elise", 21);
INSERT INTO Etudiant VALUES (32, "randombbis", "fanny", 21);
INSERT INTO Etudiant VALUES (33, "randomtres", "stevan", 22);

INSERT INTO Salle VALUES (1, "TD", "35");
INSERT INTO Salle VALUES (2, "TP", "15");
INSERT INTO Salle VALUES (3, "CM", "105");

INSERT INTO Module VALUES (100, "mathematiques");
INSERT INTO Module VALUES (200, "BDD");
INSERT INTO Module VALUES (300, "francais");

INSERT INTO Creneau VALUES (10, "14h", "15h", "10.10.2022");
INSERT INTO Creneau VALUES (20, "16h", "18h", "16.04.2023");
INSERT INTO Creneau VALUES (30, "14h", "15h", "23.02.2023");

INSERT INTO Cours VALUES (41, 12, 100, 1, 10);
INSERT INTO Cours VALUES (42, 12, 300, 3, 20);
INSERT INTO Cours VALUES (43, 11, 100, 2, 30);

INSERT INTO Salle_has_Creneau VALUES (1, 10, "libre");
INSERT INTO Salle_has_Creneau VALUES (1, 20, "occupee");
INSERT INTO Salle_has_Creneau VALUES (1, 30, "occupee");
INSERT INTO Salle_has_Creneau VALUES (2, 10, "libre");
INSERT INTO Salle_has_Creneau VALUES (2, 20, "libre");
INSERT INTO Salle_has_Creneau VALUES (3, 30, "occupee");

INSERT INTO Etudiant_has_Module VALUES (31, 100);
INSERT INTO Etudiant_has_Module VALUES (32, 300);
INSERT INTO Etudiant_has_Module VALUES (31, 200);
INSERT INTO Etudiant_has_Module VALUES (33, 200);

